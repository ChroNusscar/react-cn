<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<title>克隆 ReactElements-React中国</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="renderer" content="webkit|ie-comp|ie-stand">
	<meta name="keywords" content="克隆 ReactElements,插件" />
	<meta name="description" content="克隆 ReactElements" />
	<link rel="stylesheet" href="/css/css.css">
	<link rel="shortcut icon" href="/favicon.ico">
</head>
<body>
<header>
	<h1><a class="logo" href="http://www.react-cn.com/"><img class="nav-logo" src="/logo.svg" width="36" height="36">React</a></h1>
	<div class="menu">
		<a href="/index.html" >首页</a>
		<a href="/downloads.html" >下载</a>
		<a href="/docs/getting-started.html" >中文文档</a>
		<a href="/addons/index.html" class="active">react 插件</a>
		<a href="/docs/examples.html" >例子</a>
	</div>
	<div class="submenu">
		<a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=db86a206a1e04f114217ccffd92ee11f5faca14d283a71d97817937ee3cf9d00"><img border="0" src="http://pub.idqqimg.com/wpa/images/group.png" alt="reactjs、reactnative技术群" title="reactjs、reactnative技术群"></a>
		<a href="/about.html">关于我们</a>
		<a href="/reactnative/index.html">React Native中文资料</a>
	</div>
</header>
<div class="container documentationContent">
	<div class="rightContainer">
		<div class="inner">
			<a class="edit-page-link" href="https://github.com/tianxiangbing/react-cn/tree/master/src/addons/md/clone-with-props.md" target="_blank">在github上编辑这篇文章</a>
			<h1><a name="-reactelements" class="anchor" href="#-reactelements"></a>克隆 ReactElements<a  class="hash-link" href="#-reactelements">#</a></h1><blockquote>
<p>注意:
<code>cloneWithProps</code> 被弃用了. 用 <a href="/docs/top-level-api.html#react.cloneelement">React.cloneElement</a> 代替.</p>
</blockquote>
<p>在很罕见的情况下，你可能需要创建一个 React 元素的拷贝，它与初始的元素有不同的 props。一个例子是克隆这些传递到 <code>this.props.children</code> 的元素并用不同的 props 渲染他们。</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> cloneWithProps = require(<span class="hljs-string">'react-addons-clone-with-props'</span>);

<span class="hljs-keyword">var</span> _makeBlue = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(element)</span> </span>{
  <span class="hljs-keyword">return</span> cloneWithProps(element, {style: {color: <span class="hljs-string">'blue'</span>}});
};

<span class="hljs-keyword">var</span> Blue = React.createClass({
  render: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> blueChildren = React.Children.map(<span class="hljs-keyword">this</span>.props.children, _makeBlue);
    <span class="hljs-keyword">return</span> &lt;div&gt;{blueChildren}&lt;/div&gt;;
  }
});

ReactDOM.render(
  &lt;Blue&gt;
    &lt;p&gt;This text <span class="hljs-keyword">is</span> blue.&lt;/p&gt;
  &lt;/Blue&gt;,
  document.getElementById(<span class="hljs-string">'container'</span>)
);
</code></pre>
<p><code>cloneWithProps</code> 不传递 <code>key</code> 或者 <code>ref</code> 到被克隆的元素。<code>className</code> 和 <code>style</code> props 被自动合并。</p>

            <div class="docs-prevnext"><a href="/docs/tooling-integration.html" class="prev">← 上一条 </a><a class="next" href="/docs/animation.html">下一条 →</a></div>
		</div> 
	</div>
    <div class="docnav">
    <div class="nav-docs-section">
      <h3>react插件</h3>
      <ul>
            <li>
            <a href="/addons/animation.html" >动画</a>
            </li>
            <li>
            <a href="/addons/two-way-binding-helpers.html" >双向绑定辅助</a>
            </li>
            <li>
            <a href="/addons/test-utils.html" >测试工具</a>
            </li>
            <li>
            <a href="/addons/clone-with-props.html" class="active">克隆 ReactElements</a>
            </li>
        
            <li>
            <a href="/addons/create-fragment.html" >Keyed Fragments</a>
            </li>
            <li>
            <a href="/addons/update.html" >immutability 助手</a>
            </li>
            <li>
            <a href="/addons/pure-render-mixin.html" >PureRenderMixin</a>
            </li>
            <li>
            <a href="/addons/perf.html" >性能工具</a>
            </li>
            <li>
            <a href="/addons/shallow-compare.html" >浅比较</a>
            </li>
      </ul>
    </div>
</div>
</div>

<footer>
<p>友情链接：<a href="https://facebook.github.io/react/" target="_blank">react</a> <a href="http://www.lovewebgames.com/" target="_blank">javascript JY</a> <a href="http://www.lovewebgames.com/jsmodule/index.html" target="_blank">js组件</a><a href="http://www.react-cn.com/">react中国</a></p>
<p>© 2016-2017 <a href="http://www.react-cn.com">react-cn.com</a> 版权所有 ICP证：浙ICP备09082150号-3</p>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

</footer>
</body>
</html>